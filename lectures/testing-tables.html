<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Class summary: Testing and Plotting Tables</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Testing and Plotting Tables</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Reviewing_.Testing_.Row_.Functions%29" class="tocviewlink" data-pltdoc="x">Reviewing Testing Row Functions</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.How_to_.Test_.Functions_that_.Return_.Tables%29" class="tocviewlink" data-pltdoc="x">How to Test Functions that Return Tables</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Plotting_.Table_.Data%29" class="tocviewlink" data-pltdoc="x">Plotting Table Data</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Class_summary__.Testing_and_.Plotting_.Tables%29" class="tocsubseclink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Testing and Plotting Tables</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Reviewing_.Testing_.Row_.Functions%29" class="tocsubseclink" data-pltdoc="x">Reviewing Testing Row Functions</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.How_to_.Test_.Functions_that_.Return_.Tables%29" class="tocsubseclink" data-pltdoc="x">How to Test Functions that Return Tables</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Plotting_.Table_.Data%29" class="tocsubseclink" data-pltdoc="x">Plotting Table Data</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Class_summary__.Testing_and_.Plotting_.Tables)"></a>Class summary: Testing and Plotting Tables</h2><p>Copyright (c) 2017 Kathi Fisler</p><h3>1<tt>&nbsp;</tt><a name="(part._.Reviewing_.Testing_.Row_.Functions)"></a>Reviewing Testing Row Functions</h3><p>We began with a <a href="https://code.pyret.org/editor#share=1cK_w-fV6aOorWhRETP9dPsY3QRxnwLqo&amp;v=be0f222">handout</a> that showed our running gradebook example,
along with <span class="stt">where</span> blocks for testing the functions that compute
values over rows. Several questions about specifics of tables came up
and are recorded in the first 20 minutes of lecture capture.</p><p>(Note: this posted version is slightly different than what we handed
out in class &ndash; the difference is in the TESTING section at the
bottom, which was not on the printed handout)</p><h3>2<tt>&nbsp;</tt><a name="(part._.How_to_.Test_.Functions_that_.Return_.Tables)"></a>How to Test Functions that Return Tables</h3><p>We then discussed how to test functions that return tables.  The
handout illustrated this using a function that adds exam averages and
letter grades to tables. Basically, we showed how we start with a
small sample table, then manually created a version of the table with
the extra rows, and used those two tables to write a test case for the
function.</p><p>The printed handout put the testing table (<span class="stt">gradebook-extended</span>)
before the function and used a <span class="stt">where</span> block to capture the
test. The version linked here instead puts the table and the test
after the function, by using a <span class="stt">check</span> block (like <span class="stt">where</span>,
but it lives outside the function, which can be useful for cases like
this where we want to separate our main code from our testing data).</p><p>It&rsquo;s important here that we <span style="font-style: italic">figure out and write the result table by
hand <span style="font-weight: bold">before</span> writing the function body</span>, even though we are
placing the testing table under the function in the file. Writing the function
first, generating the answer table, and copying it into a
hand-developed table defeats the entire purpose of using examples to
check that our code is behaving as we wanted it to.</p><p>Isn&rsquo;t this process of setting up test tables annoying and tedious?  A
bit, yes, but we only write very small tables for this purpose (a few
rows), and we can copy and paste to create the result table.  The
point here is that if we write examples that carefully test the
function on the small table, we can then just use the function on the
large (google-sheet table) without worrying about whether the table
will work.</p><p>In short, we&rsquo;ve begun to make a shift from merely <span style="font-style: italic">writing
examples</span> to <span style="font-style: italic">testing functions</span>. Testing will get increasingly
important as our functions get more complex.</p><h3>3<tt>&nbsp;</tt><a name="(part._.Plotting_.Table_.Data)"></a>Plotting Table Data</h3><p>Finally, we saw how to use the plotting functions (described in our
tables documentation) to create scatter-plots and other plots from
table data. These functions are fairly straightforward to use &ndash; they
generally take a table and the names of the column(s) to use to
generate the plots.</p><p>Here are some examples of how to create plots:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># create plot that contrasts students' grades on the two exams</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">scatter-plot(gradebook-real, "exam1", "exam2")</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># add a linear-regression line to the scatterplot</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># (no worries if you don't know what a linear regression is yet)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">lr-plot(gradebook-real, "exam1", "exam2")</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># plot the exam1 grades as bars in decreasing order</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">bar-chart(sort-by(gradebook-real, "exam1", false), "name", "exam1")</span></p></td></tr></table></p><p>You&rsquo;ll get more practice with these in labs and on the project.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>