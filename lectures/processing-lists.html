<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Class summary: Processing Lists</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Processing Lists</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Summing_a_list_of_numbers%29" class="tocviewlink" data-pltdoc="x">Summing a list of numbers</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Checking_all_.Numbers_.Less_than_10%29" class="tocviewlink" data-pltdoc="x">Checking all Numbers Less than 10</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Leveraging_.Cases_to_.Write_.Our_.Functions%29" class="tocviewlink" data-pltdoc="x">Leveraging Cases to Write Our Functions</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Class_summary__.Processing_.Lists%29" class="tocsubseclink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Processing Lists</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Summing_a_list_of_numbers%29" class="tocsubseclink" data-pltdoc="x">Summing a list of numbers</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Checking_all_.Numbers_.Less_than_10%29" class="tocsubseclink" data-pltdoc="x">Checking all Numbers Less than 10</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.The_.Case-based_.Definition_of_.Lists%29" class="tocsubseclink" data-pltdoc="x">The Case-<wbr></wbr>based Definition of Lists</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Leveraging_.Cases_to_.Write_.Our_.Functions%29" class="tocsubseclink" data-pltdoc="x">Leveraging Cases to Write Our Functions</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Class_summary__.Processing_.Lists)"></a>Class summary: Processing Lists</h2><p>Copyright (c) 2017 Kathi Fisler</p><p>Throughout this course, we&rsquo;ve written programs that leverage the
structure of data. We started with images, showing that the structure
of code that builds a piece of data reflects the structure of the
datum itself. We moved onto tables, writing programs to process the
rows and cells that make up tables.</p><p>Now we have lists. Last lecture, we learned several built-in functions
for processing lists. But the operations we learned only cover some of
the computations we might want to do with lists. For example, what if
we wanted the sum of a list of numbers? Or if we wanted to make sure
all numbers in a list are less than 10.  Neither <span class="stt">L.map</span> nor
<span class="stt">L.filter</span>, which return lists, can be used alone to write
functions that return numbers or booleans.  Sometimes, we will need to
write our own functions to process or aggregate lists.  Today, we
start learning how to do that.</p><p>This material is covered very nicely in a chapter of a textbook by
Brown CS Professor Shriram Krishnamurthi.  These notes will highlight
unique features of how we covered this material in class, but details
will be in chapters 6.1 through 6.4.2 of
<a href="https://papl.cs.brown.edu/2018/processing-lists.html#%28part._.Making_.Lists_and_.Taking_.Them_.Apart%29">PAPL chapter 6</a> (which we followed fairly closely in class), as well
as in the lecture capture.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Summing_a_list_of_numbers)"></a>Summing a list of numbers</h3><p>Imagine that we had written a function called <span class="stt">my-sum</span>
(<span class="stt">sum</span> is built-in, so we need to use a different name).  What
might the <span class="stt">where:</span> block look like?</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun my-sum(lst :: List&lt;Number&gt;) -&gt; Number:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 4, 7, 5]) is 4 + 7 + 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 7, 5]) is 7 + 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 5]) is 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list:]) is 0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>Stare at these examples &ndash; do you notice a pattern?</p><p>Yes, each where answer could be written using the line below it:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 4, 7, 5]) is 4 + my-sum([list: 7, 5])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 7, 5]) is 7 + my-sum([list: 5])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list: 5]) is 5 + my-sum([list:])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">my-sum([list:]) is 0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>Do you see the pattern here? When we want to sum a list, we can add
the first item on the list to the sum of the list with everything
except the first item (that list is called the <span style="font-style: italic">rest</span> of the
list). If we had an easy way to get at the first and rest parts of a
list, our examples guide us to writing the function.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Checking_all_.Numbers_.Less_than_10)"></a>Checking all Numbers Less than 10</h3><p>Let&rsquo;s write the where clause for another problem:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun all-below-10(lst :: List&lt;Number&gt;) -&gt; Boolean:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 8, 2, 6]) is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(8 &lt; 10) and (2 &lt; 10) and (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 2, 6]) is (2 &lt; 10) and (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 6]) is (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list:]) is true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>Which, substituting subexpressions, yields:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 8, 2, 6]) is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(8 &lt; 10) and all-below-10([list: 2, 6])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 2, 6]) is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(2 &lt; 10) and all-below-10([list: 6])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 6]) is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(6 &lt; 10) and all-below-10([list:])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list:]) is true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><h4>2.1<tt>&nbsp;</tt><a name="(part._.The_.Case-based_.Definition_of_.Lists)"></a>The Case-based Definition of Lists</h4><p>See section 6.1 for details.</p><h3>3<tt>&nbsp;</tt><a name="(part._.Leveraging_.Cases_to_.Write_.Our_.Functions)"></a>Leveraging Cases to Write Our Functions</h3><p>Lecture capture shows how we built-up these final solutions
piece-by-piece.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun my-sum(lst :: List&lt;Number&gt;) -&gt; Number:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cases (List) lst:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| empty =&gt; 0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; fst + my-sum(rst)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">my-sum([list: 4, 7, 5]) is 4 + 7 + 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">my-sum([list: 7, 5]) is 7 + 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">my-sum([list: 5]) is 5</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">my-sum([list:]) is 0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun all-below-10(lst :: List&lt;Number&gt;) -&gt; Boolean:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cases (List) lst:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| empty =&gt; true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; (fst &lt; 10) and all-below-10(rst)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 8, 2, 6]) is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">(8 &lt; 10) and (2 &lt; 10) and (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 2, 6]) is (2 &lt; 10) and (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 6]) is (6 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">all-below-10([list:]) is true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p></div></div><div id="contextindicator">&nbsp;</div></body></html>