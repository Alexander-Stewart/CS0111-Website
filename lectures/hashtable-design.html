<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Class summary: Design Practice</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Design Practice</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Flights_by_day%29" class="tocviewlink" data-pltdoc="x">Flights by day</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Finishing_line_of_a_run%29" class="tocviewlink" data-pltdoc="x">Finishing line of a run</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Class_summary__.Design_.Practice%29" class="tocsubseclink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Design Practice</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Flights_by_day%29" class="tocsubseclink" data-pltdoc="x">Flights by day</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Finishing_line_of_a_run%29" class="tocsubseclink" data-pltdoc="x">Finishing line of a run</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Class_summary__.Design_.Practice)"></a>Class summary: Design Practice</h2><p>Copyright (c) 2017 Kathi Fisler</p><p>Now that we&rsquo;re done with hashtables, let&rsquo;s step back and look at some
practice problems.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Flights_by_day)"></a>Flights by day</h3><p>Last class, we made a hashtable that mapped flights to lists of
passengers on each flight. But airlines run the same flight on
multiple days. What if we want the passenger lists per day?  Propose a
collection of dataclasses, hashtables, and lists for this problem.</p><p>Here&rsquo;s the Flight dataclass again.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">@dataclass(frozen=True)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">class Flight:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">num: int</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">frm: str</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">to: str</span></p></td></tr></table></p><p><span style="font-weight: bold">Solution:</span> It seems here that we want two hashtables, one keyed
on dates and one keyed on flights. Here are three proposals &ndash; which
do you prefer? What are the strengths and weaknesses of each?</p><ul><li><p>One hashtable with flights as keys and passenger lists as
values, and another with dates as keys and passenger lists as values.</p></li><li><p>A hashtable with dates as keys and hashtables as values. The
inner hashtables have flights as keys as passenger lists as values.</p></li><li><p>A hashtable with flights as keys and hashtables as values. The
inner hashtables have dates as keys and passenger lists as values.</p></li></ul><p>The first is a poor idea because there flights and dates aren&rsquo;t
connected, which is part of the point of the problem.</p><p>The choice between the second and third depends on how you think about
using the data. Are you more likely to want to look at all flights
across the same date, or all dates for the same flight?  Depending on
which will be more common in your work tells you which of these
organizations to use.  Put differently, which inner hashtable is most
useful to you?</p><p>As we did this example in class, many questions arose about how such
an example could be set up in memory, especially if you wanted to
maintain both a dates-based and a flights-based hashtable.  I&rsquo;ve
provided both a <a href="code/nested-hashtables.py">Python file</a>
showing how you might set this up (so that you have one passenger list
for each flight/date combo), and provided <a href="nested-hashtables-memory.pptx">a powerpoint slidedeck</a> illustrating how
memory evolves as the code runs.</p><h3>2<tt>&nbsp;</tt><a name="(part._.Finishing_line_of_a_run)"></a>Finishing line of a run</h3><p>You&rsquo;re managing a local 5K race, and want to track the order in which
runners cross the line. Prizes are given based on both overall
finishing order, but also in age-based categories. Ignore the
finishing time for now. How might you organize this data?</p><p>Given the last few lectures, you might have jumped to a hashtable, but
that&rsquo;s more than you need here.  A simple sorted list should suffice,
with the contents capturing runner&rsquo;s names and ages in a dataclass:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">@dataclass</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">class Runner:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">name: str</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">age: int</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">finishers = [Runner("Ali", 35),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Wayne", 23),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Johan", 32),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Avika", 31),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Todd", 21),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Rodney", 72),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">Runner("Janelle", 32),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">]</span></p></td></tr></table></p><p>We&rsquo;ll work more with this example in the next class.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>
