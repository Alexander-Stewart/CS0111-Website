<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Class summary: The Design Recipe</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> The Design Recipe</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.List_versus_link_when_writing_functions_that_return_lists%29" class="tocviewlink" data-pltdoc="x">List versus link when writing functions that return lists</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.A_.Systematic_.Process_for_.Designing_.Programs%29" class="tocviewlink" data-pltdoc="x">A Systematic Process for Designing Programs</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Class_summary__.The_.Design_.Recipe%29" class="tocsubseclink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> The Design Recipe</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.List_versus_link_when_writing_functions_that_return_lists%29" class="tocsubseclink" data-pltdoc="x">List versus link when writing functions that return lists</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.A_.Systematic_.Process_for_.Designing_.Programs%29" class="tocsubseclink" data-pltdoc="x">A Systematic Process for Designing Programs</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.An_example_task_list%29" class="tocsubseclink" data-pltdoc="x">An example task list</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Class_summary__.The_.Design_.Recipe)"></a>Class summary: The Design Recipe</h2><p>Copyright (c) 2017 Kathi Fisler</p><h3>1<tt>&nbsp;</tt><a name="(part._.List_versus_link_when_writing_functions_that_return_lists)"></a>List versus link when writing functions that return lists</h3><p>We developed a function that adds 1 to every element in a list of
numbers.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun add-1-all(lst :: List&lt;Number&gt;) -&gt; List&lt;Number&gt;:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cases (List) lst:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| empty =&gt; empty</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; link(fst + 1, add-1-all(rst))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">add-1-all([list: 3, 7, 4]) is link(3 + 1, add-1-all([list: 7, 4]))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">add-1-all([list: 7, 4]) is link(7 + 1, link(4 + 1, empty))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">add-1-all(empty)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>We went over why we had to write</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; link(fst + 1, add-1-add(rst))</span></p></td></tr></table></p><p>instead of</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; [list: fst + 1, add-1-add(rst)]</span></p></td></tr></table></p><p>Roughly, using <span class="stt">list:</span> as in the second case makes a chain of
nested lists, not a flat list.</p><p>We also talked about the importance of writing an example on the
<span class="stt">empty</span> case so you can figure out what that case does before you
are in the middle of writing code.</p><p>See the lecture capture video for more details.</p><h3>2<tt>&nbsp;</tt><a name="(part._.A_.Systematic_.Process_for_.Designing_.Programs)"></a>A Systematic Process for Designing Programs</h3><p>Let&rsquo;s formally write out the sequence of steps that we&rsquo;ve been
informally using in class to design solutions to programming problems:</p><ol><li><p>Write the name, inputs, input types, and output type for the
function.</p></li><li><p>Write some examples of what the function should produce.  The
examples should cover all structural cases of the inputs (i.e., empty
vs non-empty lists), as well as interesting scenarios within the
problem.</p></li><li><p>Identify the tasks that the problem requires. Label each task
with some information on how you will handle it (i.e., use a built-in
function like <span class="stt">L.filter</span>, write a new function). If you are
writing a new function, note the inputs and output for the task, along
with the types.</p></li><li><p>For each task that requires you to write a function, start by
copying the template for the main function input (i.e., the list
template).</p></li><li><p>Fill in the templates and bodies for all task functions.</p></li><li><p>Combine the code for the tasks into code for the entire problem.</p></li></ol><h4>2.1<tt>&nbsp;</tt><a name="(part._.An_example_task_list)"></a>An example task list</h4><p>Imagine that we asked you to write a program to compute the average
number of vowels in a list of words.  Here&rsquo;s a possible task plan:</p><ul><li><p>Define the set of vowels</p></li><li><p>Get a list of characters in a word <span style="font-style: italic">[could use <span class="stt">string-explode</span></span>]</p></li><li><p>Count how many vowels are in a given word <span style="font-style: italic">[could use L.filter,
L.member, and L.length with the results from the previous two steps]</span>.</p></li><li><p>Sum the total number of vowels across all words in a list <span style="font-style: italic">[could
write a new function total-vowels that takes a list and returns a number]</span>.</p></li><li><p>Count the words in the list <span style="font-style: italic">[could use L.length]</span></p></li><li><p>Compute the average number of vowels from the previous two
values <span style="font-style: italic">[using division].</span></p></li></ul></div></div><div id="contextindicator">&nbsp;</div></body></html>