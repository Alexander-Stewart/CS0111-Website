<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Class summary: Processing Lists Practice</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Processing Lists Practice</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._all-below-10%29" class="tocviewlink" data-pltdoc="x">all-<wbr></wbr>below-<wbr></wbr>10</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._multi-stripe-flag%29" class="tocviewlink" data-pltdoc="x">multi-<wbr></wbr>stripe-<wbr></wbr>flag</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Class_summary__.Processing_.Lists_.Practice%29" class="tocsubseclink" data-pltdoc="x">Class summary:<span class="mywbr"> &nbsp;</span> Processing Lists Practice</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._all-below-10%29" class="tocsubseclink" data-pltdoc="x">all-<wbr></wbr>below-<wbr></wbr>10</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._multi-stripe-flag%29" class="tocsubseclink" data-pltdoc="x">multi-<wbr></wbr>stripe-<wbr></wbr>flag</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Class_summary__.Processing_.Lists_.Practice)"></a>Class summary: Processing Lists Practice</h2><p>Copyright (c) 2017 Kathi Fisler</p><p>We worked through two problems today to practice writing programs that
take lists and produce simple values.  Details of how we developed
these are in the lecture capture.</p><h3>1<tt>&nbsp;</tt><a name="(part._all-below-10)"></a>all-below-10</h3><p>Write a function that takes a list of numbers and returns a Boolean
indicating whether every number in the list is smaller than 10.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun all-below-10(lst :: List&lt;Number&gt;) -&gt; Boolean:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">doc: "Determine whether all numbers are below 10"</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cases (List) lst:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| empty =&gt; true</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt; (fst &lt; 10) and all-below-10(rst)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># an example on a specific list</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">all-below-10(link(3, link(8, link(2, empty))))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is (3 &lt; 10) and (8 &lt; 10) and (2 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># an example on the rest of that list</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">all-below-10(link(8, link(2, empty)))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is (8 &lt; 10) and (2 &lt; 10)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># rewriting the first example, using the second to show</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">#</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">the call on the rest</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">all-below-10(link(3, link(8, link(2, empty))))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is (3 &lt; 10) and all-below-10(link(8, link(2, empty)))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>One interesting discussion here concerned the result of <span class="stt">true</span> in
the <span class="stt">empty</span> case. Let&rsquo;s use an example to see why we have to
return <span class="stt">true</span> rather than <span class="stt">false</span>. We&rsquo;ll take a function and
expand out the code as we evaluate a call to <span class="stt">all-below-10</span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">all-below-10([list: 7, 8])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(7 &lt; 10) and all-below-10([list: 8])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">(7 &lt; 10) and (8 &lt; 10) and all-below-10(empty)</span></p></td></tr></table></p><p>The result of <span class="stt">all-below-10(empty)</span> cannot interfere with the
result on the items in the list. Since both 7 and 8 are less than 10,
the function should return <span class="stt">true</span> on this list. If
<span class="stt">all-below-10(empty)</span> returns <span class="stt">false</span>, the entire <span class="stt">and</span>
expression will return <span class="stt">false</span>.  To avoid interfering with the
computation of <span class="stt">and</span>, we must return <span class="stt">true</span> in the
<span class="stt">empty</span> case.</p><p>By analogous reasoning, if the computation involves <span class="stt">or</span>, we must
return <span class="stt">false</span> in the empty case.</p><h3>2<tt>&nbsp;</tt><a name="(part._multi-stripe-flag)"></a>multi-stripe-flag</h3><p>Remember that we started out with producing images of flags?  At the
start of the course, we wrote a function to produce a flag with three
stripes:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun three-stripe-flag(top :: String, middle :: String, bot :: String) -&gt; Image:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">doc: "produce image of three equal-height horizontal stripes"</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">above(rectangle(120, 30, "solid", top),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">above(rectangle(120, 30, "solid", middle),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">rectangle(120, 30, "solid", bot)))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>What if wanted to allow an arbitrary number of stripes?  We would take
the sequence of stripes in as a list.  (Don&rsquo;t worry about scaling the
stripe heights for now).  Here&rsquo;s the list-based version:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">fun multi-stripe-flag(colors :: List&lt;String&gt;) -&gt; Image:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">doc: ```produce flag with horizontal stripes in given colors</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">from top to bottom```</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">cases (List) colors:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| empty =&gt; rectangle(1, 1, "solid", "white")</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">| link(fst, rst) =&gt;</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">above(rectangle(120, 30, "solid", fst),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">multi-stripe-flag(rst))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># Normally, we don't write wheres for functions that return images,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># but I'm doing it here to illustrate the pattern of building</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"># the image</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">multi-stripe-flag([list: "red", "blue", "orange"])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">above(rectangle(30, 100, "solid", "red"),</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">multi-stripe-flag([list: "blue", "orange"]))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">end</span></p></td></tr></table></p><p>Here, we returned a tiny, nearly invisible image in the <span class="stt">empty</span>
case.  There actually is a way to have an empty image in Pyret, but we
didn&rsquo;t have that code on hand, so we wrote it this way instead.  If
that little rectangle bothers you, trust that we could indeed have
eliminated it.</p><p>The key thing to note here is that the nested sequence of <span class="stt">above</span>
expressions that we wrote in the three-stripe version is precisely
what we get from the multi-stripe version &ndash; if you unroll the calls
to <span class="stt">multi-stripe-flag</span>, you&rsquo;ll see that we get the same pattern
of nested <span class="stt">above</span> expressions as we wrote manually.  This is one
of the beauties of writing functions that call themselves in this way
&ndash; they expand repeated patterns for us without us having to manually
replicate code.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>